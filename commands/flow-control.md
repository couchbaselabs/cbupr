
##Upr No-Op

####Binary Implementation

    Upr No-Op Binary Request

    Byte/     0       |       1       |       2       |       3       |
       /              |               |               |               |
      |0 1 2 3 4 5 6 7|0 1 2 3 4 5 6 7|0 1 2 3 4 5 6 7|0 1 2 3 4 5 6 7|
      +---------------+---------------+---------------+---------------+
     0|       80      |       5C      |       00      |       00      |
      +---------------+---------------+---------------+---------------+
     4|       00      |       00      |       00      |       00      |
      +---------------+---------------+---------------+---------------+
     8|       00      |       00      |       00      |       00      |
      +---------------+---------------+---------------+---------------+
    12|       00      |       00      |       00      |       00      |
      +---------------+---------------+---------------+---------------+
    16|       00      |       00      |       00      |       00      |
      +---------------+---------------+---------------+---------------+
    20|       00      |       00      |       00      |       00      |
      +---------------+---------------+---------------+---------------+
    24|       00      |       00      |       00      |       00      |
      +---------------+---------------+---------------+---------------+

    Header breakdown
    Upr No-Op command
    Field        (offset) (value)
    Magic        (0)    : 0x80                (Request)
    Opcode       (1)    : 0x5C                (Upr No-Op)
    Key length   (2,3)  : 0x0000              (0)
    Extra length (4)    : 0x00                (0)
    Data type    (5)    : 0x00                (Field not used)
    VBucket      (6,7)  : 0x0000              (Field not used)
    Total body   (8-11) : 0x00000000          (0)
    Opaque       (12-15): 0x00000005          (0)
    CAS          (16-23): 0x0000000000000000  (Field not used)

    Upr No-Op Binary Response

    Byte/     0       |       1       |       2       |       3       |
       /              |               |               |               |
      |0 1 2 3 4 5 6 7|0 1 2 3 4 5 6 7|0 1 2 3 4 5 6 7|0 1 2 3 4 5 6 7|
      +---------------+---------------+---------------+---------------+
     0|       81      |       5C      |       00      |       00      |
      +---------------+---------------+---------------+---------------+
     4|       00      |       00      |       00      |       00      |
      +---------------+---------------+---------------+---------------+
     8|       00      |       00      |       00      |       00      |
      +---------------+---------------+---------------+---------------+
    12|       00      |       00      |       00      |       05      |
      +---------------+---------------+---------------+---------------+
    16|       00      |       00      |       00      |       00      |
      +---------------+---------------+---------------+---------------+
    20|       00      |       00      |       00      |       00      |
      +---------------+---------------+---------------+---------------+

    Header breakdown
    Upr No-Op command
    Field        (offset) (value)
    Magic        (0)    : 0x81 	              (Response)
    Opcode       (1)    : 0x5C                (Upr No-Op)
    Key length   (2,3)  : 0x0000              (filed not used)
    Extra length (4)    : 0x00                (0)
    Data type    (5)    : 0x00                (field not used)
    Status       (6,7)  : 0x0000              (Success)
    Total body   (8-11) : 0x00000000          (0)
    Opaque       (12-15): 0x00000005          (5)
    CAS          (16-23): 0x0000000000000000  (field not used)

#####Returns

Whether or not the operation has succeeded


##Buffer Acknowledgement

####Binary Implementation

    Buffer Acknowledgement Binary Request

    Byte/     0       |       1       |       2       |       3       |
       /              |               |               |               |
      |0 1 2 3 4 5 6 7|0 1 2 3 4 5 6 7|0 1 2 3 4 5 6 7|0 1 2 3 4 5 6 7|
      +---------------+---------------+---------------+---------------+
     0|       80      |       5D      |       00      |       00      |
      +---------------+---------------+---------------+---------------+
     4|       00      |       00      |       00      |       00      |
      +---------------+---------------+---------------+---------------+
     8|       00      |       00      |       00      |       04      |
      +---------------+---------------+---------------+---------------+
    12|       00      |       00      |       00      |       05      |
      +---------------+---------------+---------------+---------------+
    16|       00      |       00      |       00      |       00      |
      +---------------+---------------+---------------+---------------+
    20|       00      |       00      |       00      |       00      |
      +---------------+---------------+---------------+---------------+
    24|       00      |       00      |       10      |       00      |
      +---------------+---------------+---------------+---------------+

    Header breakdown
    Buffer Acknowledgement command
    Field        (offset) (value)
    Magic        (0)    : 0x80                (Request)
    Opcode       (1)    : 0x5D                (Buffer Acknowledgement)
    Key length   (2,3)  : 0x0000              (0)
    Extra length (4)    : 0x00                (0)
    Data type    (5)    : 0x00                (Field not used)
    VBucket      (6,7)  : 0x0000              (Field not used)
    Total body   (8-11) : 0x00000004          (4)
    Opaque       (12-15): 0x00000005          (5)
    CAS          (16-23): 0x0000000000000000  (Field not used)
	Buffer Bytes (24-27): 0x00001000          (4096)

    Buffer Acknowledgement Binary Response

    Byte/     0       |       1       |       2       |       3       |
       /              |               |               |               |
      |0 1 2 3 4 5 6 7|0 1 2 3 4 5 6 7|0 1 2 3 4 5 6 7|0 1 2 3 4 5 6 7|
      +---------------+---------------+---------------+---------------+
     0|       81      |       5D      |       00      |       00      |
      +---------------+---------------+---------------+---------------+
     4|       00      |       00      |       00      |       00      |
      +---------------+---------------+---------------+---------------+
     8|       00      |       00      |       00      |       00      |
      +---------------+---------------+---------------+---------------+
    12|       00      |       00      |       00      |       05      |
      +---------------+---------------+---------------+---------------+
    16|       00      |       00      |       00      |       00      |
      +---------------+---------------+---------------+---------------+
    20|       00      |       00      |       00      |       00      |
      +---------------+---------------+---------------+---------------+

    Header breakdown
    Buffer Acknowledgement command
    Field        (offset) (value)
    Magic        (0)    : 0x81 	              (Response)
    Opcode       (1)    : 0x5D                (Buffer Acknowledgement)
    Key length   (2,3)  : 0x0000              (filed not used)
    Extra length (4)    : 0x00                (0)
    Data type    (5)    : 0x00                (field not used)
    Status       (6,7)  : 0x0000              (Success)
    Total body   (8-11) : 0x00000000          (0)
    Opaque       (12-15): 0x00000005          (5)
    CAS          (16-23): 0x0000000000000000  (field not used)

#####Returns

Whether or not the operation has succeeded

#####Errors

**PROTOCOL_BINARY_RESPONSE_KEY_ENOENT (0x01)**

The server no longer knows about this buffer

**PROTOCOL_BINARY_RESPONSE_EINVAL (0x04)**

If data in this packet is malformed or incomplete then this error is returned. This error is also returned if the stream name specified in the packet does not exist.

##Upr Control

####Binary Implementation

    Upr Control Binary Request

    Byte/     0       |       1       |       2       |       3       |
       /              |               |               |               |
      |0 1 2 3 4 5 6 7|0 1 2 3 4 5 6 7|0 1 2 3 4 5 6 7|0 1 2 3 4 5 6 7|
      +---------------+---------------+---------------+---------------+
     0|       80      |       5C      |       00      |       00      |
      +---------------+---------------+---------------+---------------+
     4|       00      |       00      |       00      |       00      |
      +---------------+---------------+---------------+---------------+
     8|       00      |       00      |       00      |       00      |
      +---------------+---------------+---------------+---------------+
    12|       00      |       00      |       00      |       00      |
      +---------------+---------------+---------------+---------------+
    16|       00      |       00      |       00      |       00      |
      +---------------+---------------+---------------+---------------+
    20|       00      |       00      |       00      |       00      |
      +---------------+---------------+---------------+---------------+
    24|       63      |       6F      |       6E      |       6E      |
      +---------------+---------------+---------------+---------------+
    28|       65      |       63      |       74      |       69      |
      +---------------+---------------+---------------+---------------+
    32|       6F      |       6E      |       5F      |       62      |
      +---------------+---------------+---------------+---------------+
    36|       75      |       66      |       66      |       65      |
      +---------------+---------------+---------------+---------------+
    40|       72      |       5F      |       73      |       69      |
      +---------------+---------------+---------------+---------------+
    44|       7A      |       65      |       34      |       30      |
      +---------------+---------------+---------------+---------------+
    48|       39      |       36      |
      +---------------+---------------+

    Header breakdown
    Upr Control command
    Field         (offset) (value)
    Magic         (0)    : 0x80                (Request)
    Opcode        (1)    : 0x5E                (Upr Control)
    Key length    (2,3)  : 0x0000              (0)
    Extra length  (4)    : 0x00                (0)
    Data type     (5)    : 0x00                (Field not used)
    VBucket       (6,7)  : 0x0000              (Field not used)
    Total body    (8-11) : 0x0000001a          (0)
    Opaque        (12-15): 0x00000005          (0)
    CAS           (16-23): 0x0000000000000000  (Field not used)
	Key			  (24-45): "connection_buffer_size"
	Value         (46-49): "4096"

    Upr Control Binary Response

    Byte/     0       |       1       |       2       |       3       |
       /              |               |               |               |
      |0 1 2 3 4 5 6 7|0 1 2 3 4 5 6 7|0 1 2 3 4 5 6 7|0 1 2 3 4 5 6 7|
      +---------------+---------------+---------------+---------------+
     0|       81      |       5D      |       00      |       00      |
      +---------------+---------------+---------------+---------------+
     4|       00      |       00      |       00      |       00      |
      +---------------+---------------+---------------+---------------+
     8|       00      |       00      |       00      |       00      |
      +---------------+---------------+---------------+---------------+
    12|       00      |       00      |       00      |       05      |
      +---------------+---------------+---------------+---------------+
    16|       00      |       00      |       00      |       00      |
      +---------------+---------------+---------------+---------------+
    20|       00      |       00      |       00      |       00      |
      +---------------+---------------+---------------+---------------+

    Header breakdown
    Upr Control command
    Field        (offset) (value)
    Magic        (0)    : 0x81 	              (Response)
    Opcode       (1)    : 0x5E                (Upr Control)
    Key length   (2,3)  : 0x0000              (filed not used)
    Extra length (4)    : 0x00                (0)
    Data type    (5)    : 0x00                (field not used)
    Status       (6,7)  : 0x0000              (Success)
    Total body   (8-11) : 0x00000000          (0)
    Opaque       (12-15): 0x00000000          (0)
    CAS          (16-23): 0x0000000000000000  (field not used)

Control Message Keys:

* connection_buffer_size - Used to set the connection buffer size
* stream_buffer_size - Used to set the per stream buffer size
